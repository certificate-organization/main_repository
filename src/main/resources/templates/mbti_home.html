<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 부트스트랩 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- 추가적인 CSS 파일 -->
    <link type="text/css" th:href="@{/css/home.css}" rel="stylesheet">
    <link type="text/css" th:href="@{/css/darkmode.css}" rel="stylesheet">
    <!-- jQuery를 먼저 로드 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!--    <script src="/js/jquery.js"></script>-->
    <!-- 추가적인 JS 파일 -->
    <script type="text/javascript" src="/js/darkmode.js"></script>
    <script type="text/javascript" src="/js/chat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 폰트어썸 이미지 사용위한 kits -->
    <script src="https://kit.fontawesome.com/26ee6f51e2.js" crossorigin="anonymous"></script>
    <title>MBTI</title>
</head>
<body>
<div class="container">
    <header>
        <div class="wrap">
            <div class="dark_mode">
                <div class="inner">
                    <input type="radio" name="toggle" id="toggle_light" checked><label for="toggle_light"
                                                                                       class="light_icon"><i
                        class="fas fa-sun light_icon"></i></label>
                    <input type="radio" name="toggle" id="toggle_dark"><label for="toggle_dark" class="dark_icon"><i
                        class="fas fa-moon dark_icon"></i></label>
                    <div class="dark_mode-bg"></div>
                </div>
            </div>
        </div>
        <div class="Main_TOP">
            <div class="Main_logo">
                <a class="navbar-brand" href="/">
                    <svg xml:space="preserve" viewBox="0 0 1220 348" width="70%" height="70%">
                        <path class="bg_black" fill="#ffffff"
                              d="M863 349H1V1h1220v348H863m-668.523-95.919 8.685 89.482h39.019l-25.548-213.548H179.57c-12.223 0-12.273-.014-15.6 11.741-12.88 45.504-28.758 90.158-38.64 137.087-.575-1-1.04-1.503-1.172-2.083-11.15-48.749-28.802-95.55-42.882-143.42-.743-2.527-1.813-3.46-4.485-3.38-6.493.192-12.996.056-19.496.055H29.074L7.097 342.585h37.84L58.629 180.16c1.442 1.362 1.995 2.84 2.399 4.356 1.88 7.075 3.41 14.26 5.632 21.223 6.983 21.872 14.156 43.683 21.377 65.477a7431.562 7431.562 0 0 0 23.393 69.53c.555 1.62 2.515 3.83 3.927 3.908 7.109.4 14.252.184 21.895.184l50.739-161.734c2.075 22.43 4.232 45.748 6.487 69.977m84.155-44.581v133.949c1.125.196 1.752.384 2.385.405 19.314.655 38.637 1.952 57.94 1.715 14.245-.176 28.77-.934 42.638-3.91 41.96-9.005 53.478-43.465 47.508-75.27-3.577-19.053-16.35-31.445-34.617-39.052 11.685-7.63 17.674-18.618 20.899-31.423 6.8-27.007-3.72-49.67-28.324-60.554-14.345-6.345-29.614-7.54-45.022-7.238-20.646.403-41.286 1.124-61.929 1.737-.436.013-.862.38-1.478.67v78.97M531.5 129.016h-86.556v31.55h63.783V342.44h39.331V160.212h63.178v-31.197H531.5M680.631 155.5v-26.16h-39.017v213.228h39.017V155.5m399.905 177.593c14.017-4.721 21.987-14.375 23.776-29.096.715-5.881-.634-8.381-4.994-9.085-5.466-.883-8.102 1.066-9.391 6.94-2.615 11.916-7.51 17.916-19.492 18.677-17.374 1.103-34.894.887-52.3.087-7.705-.355-14.647-4.44-18.208-12.253-4.653-10.205-3.887-20.95-3.735-31.507.893-.29 1.208-.48 1.523-.48 16.491-.036 32.983-.064 49.475-.075 16.492-.01 32.984.035 49.476-.02 5.909-.019 8.188-1.818 8.282-6.933.138-7.49.39-15.03-.27-22.472-2.328-26.198-13.932-39.153-39.312-41.37-15.836-1.384-32.02-1.118-47.858.396-21.257 2.03-34.125 15.902-35.25 37.346-.95 18.094-.915 36.31-.05 54.412.983 20.593 12.329 34.33 32.65 37.054 17.012 2.28 34.495 1.248 51.77 1.233 4.381-.004 8.762-1.718 13.908-2.854M918.035 212.398c-2.38-1.174-4.693-2.516-7.15-3.496-13.924-5.55-28.513-4.634-42.944-3.718-14.565.925-27.681 5.684-37.089 17.783-.203.261-.776.234-1.638.466 0-4.295.108-8.256-.03-12.21-.145-4.159-2.338-6.362-6.63-6.461-5.712-.133-7.925 2.16-7.933 8.845-.035 30.322-.01 60.645-.006 90.967 0 8.163-.14 16.33.057 24.49.151 6.27 4.989 9.337 10.606 7.09 3.921-1.57 3.98-4.929 3.981-8.334.002-25.657-.005-51.315.002-76.972.004-13.008 6.734-22.461 19.054-26.935 15.45-5.611 31.42-5.386 47.386-3.81 15.316 1.512 23.047 9.4 24.391 24.8.78 8.936.646 17.962.692 26.95.096 18.992-.013 37.986.084 56.978.027 5.333 2.318 7.68 6.967 7.842 4.97.174 7.424-2.122 7.74-7.61.2-3.488.08-6.996.053-10.494-.18-24.318.052-48.65-.732-72.949-.42-13.016-4.93-24.806-16.861-33.222m254.722 6.875c9.993-.009 19.988.107 29.977-.083 4.719-.09 6.844-2.715 6.72-7.443-.116-4.359-2.222-6.91-6.728-6.956-7.828-.08-15.656-.055-23.484-.068-3.918-.006-7.836-.001-12.06-.001v-5.669c-.004-8.327.115-16.657-.058-24.98-.098-4.704-2.65-6.887-7.334-6.924-4.424-.036-6.97 2.107-7.093 6.562-.164 5.991-.101 11.988-.12 17.983-.014 4.239-.003 8.478-.003 13.065-6.126 0-11.436-.112-16.74.032-5.165.14-7.458 2.538-7.406 7.335.05 4.658 2.517 7.042 7.68 7.142 5.291.102 10.586.022 16.458.022 0 2.239-.007 4.017 0 5.795.108 23.316-.185 46.642.467 69.942.443 15.8 5.941 29.438 21.493 36.648 8.772 4.067 18.195 5.22 27.77 4.991 4.917-.117 7.252-2.824 7.164-7.667-.084-4.609-2.199-6.682-7.245-6.984-2.326-.14-4.67-.031-6.989-.224-18.872-1.572-26.424-8.646-27.513-27.391-.81-13.947-.437-27.964-.518-41.95-.062-10.804-.012-21.607-.012-32.829 1.763-.132 3.2-.24 5.574-.348M659.349 46.863c-1.16 1.619-2.406 3.184-3.466 4.867-7.643 12.125-7.39 15.39 1.92 26.213 10.344 12.025 28.02 16.024 39.498 7.735 17.363-12.539 26.518-29.464 23.753-51.523-.924-7.366-6.21-12.463-13.607-13.014-3.61-.27-7.34-.072-10.916.523-15.924 2.647-27.296 12.243-37.182 25.198m87.557 278.69c.035 4.16-.498 8.585 4.558 10.551 10.206 3.97 16.716-.42 16.628-11.188-.062-7.64-2.045-9.777-9.175-9.884-9.701-.145-11.734 1.482-12.011 10.522z"/>
                        <path class="bg_white" fill="#000000"
                              d="M194.428 252.626c-2.206-23.774-4.363-47.092-6.438-69.522l-50.739 161.734c-7.643 0-14.786.216-21.895-.184-1.412-.079-3.372-2.287-3.927-3.908a7431.562 7431.562 0 0 1-23.393-69.53c-7.22-21.794-14.394-43.605-21.377-65.477-2.223-6.964-3.751-14.148-5.632-21.223-.404-1.517-.957-2.994-2.399-4.356l-13.69 162.425H7.098l21.976-213.57h28.221c6.5.001 13.003.137 19.496-.056 2.672-.079 3.742.854 4.485 3.38 14.08 47.87 31.731 94.672 42.882 143.421.132.58.597 1.083 1.171 2.083 9.883-46.929 25.76-91.583 38.64-137.087 3.328-11.755 3.378-11.741 15.601-11.741h37.063l25.548 213.548h-39.019c-2.902-29.903-5.794-59.692-8.734-89.937zM278.632 208v-78.47c.616-.29 1.042-.658 1.478-.67 20.643-.614 41.283-1.335 61.93-1.738 15.407-.302 30.676.893 45.02 7.238 24.606 10.883 35.126 33.547 28.325 60.554-3.225 12.805-9.214 23.794-20.899 31.423 18.267 7.607 31.04 20 34.617 39.051 5.97 31.806-5.549 66.266-47.508 75.27-13.868 2.977-28.393 3.735-42.637 3.91-19.304.238-38.627-1.06-57.941-1.714-.633-.021-1.26-.209-2.385-.405v-134.45m47.919 39.85h-9.227v64.874c1.075.357 2.01.935 2.949.94 14.262.088 28.669 1.387 42.75-.196 17.383-1.955 25.657-9.947 27.604-24.153 3.231-23.569-4.294-37.592-28.728-40.366-11.35-1.29-22.902-.789-35.348-1.098m-9.408-74.344v45.67c13.974-.555 27.41-.612 40.742-1.818 6.795-.615 12.122-5.178 16.02-10.912 4.825-7.096 5.582-15.21 5.367-23.432-.319-12.197-5.751-19.379-17.407-23.345-9.768-3.324-19.84-3.914-30.04-2.977-4.748.436-11.33-.723-13.72 1.901-2.455 2.694-.812 9.122-.962 14.913zM532 129.015h79.236v31.197h-63.178V342.44h-39.331V160.565h-63.783v-31.55H532z"/>
                        <path class="bg_white" fill="#000000"
                              d="M680.631 156v186.568h-39.017V129.339h39.017V156zM1080.154 333.197c-4.764 1.032-9.145 2.746-13.527 2.75-17.274.015-34.757 1.047-51.77-1.233-20.32-2.724-31.666-16.461-32.65-37.054-.864-18.102-.9-36.318.05-54.412 1.126-21.444 13.994-35.315 35.251-37.346 15.838-1.514 32.022-1.78 47.858-.397 25.38 2.218 36.984 15.173 39.312 41.371.66 7.442.408 14.983.27 22.472-.094 5.115-2.373 6.914-8.282 6.934-16.492.054-32.984.009-49.476.02-16.492.01-32.984.038-49.475.074-.315 0-.63.19-1.523.48-.152 10.557-.918 21.302 3.735 31.507 3.561 7.813 10.503 11.898 18.209 12.253 17.405.8 34.925 1.016 52.299-.087 11.982-.76 16.877-6.761 19.492-18.676 1.289-5.875 3.925-7.824 9.391-6.941 4.36.704 5.71 3.204 4.995 9.085-1.79 14.721-9.76 24.375-24.16 29.2m9.524-89.094c-3.222-16.854-9.507-22.946-26.588-24.204-10.762-.793-21.611-.674-32.416-.53-5.281.07-10.634.737-15.802 1.843-7 1.497-12.559 5.44-15.357 12.267-3.668 8.949-3.763 18.36-3.3 28.053h93.58c0-5.677 0-11.105-.117-17.43zM918.33 212.61c11.636 8.204 16.145 19.994 16.566 33.01.784 24.299.552 48.63.732 72.95.026 3.497.147 7.005-.054 10.492-.315 5.489-2.768 7.785-7.739 7.611-4.649-.163-6.94-2.51-6.967-7.842-.097-18.992.012-37.986-.084-56.978-.046-8.988.088-18.014-.692-26.95-1.344-15.4-9.075-23.288-24.39-24.8-15.967-1.576-31.936-1.801-47.387 3.81-12.32 4.474-19.05 13.927-19.054 26.935-.007 25.657 0 51.315-.002 76.972 0 3.405-.06 6.765-3.981 8.333-5.617 2.248-10.455-.819-10.606-7.09-.197-8.159-.056-16.326-.057-24.49-.005-30.321-.03-60.644.006-90.966.008-6.685 2.221-8.978 7.933-8.845 4.292.1 6.485 2.302 6.63 6.462.138 3.953.03 7.914.03 12.209.862-.232 1.435-.205 1.638-.466 9.408-12.099 22.524-16.858 37.09-17.783 14.43-.916 29.019-1.832 42.942 3.718 2.458.98 4.771 2.322 7.446 3.707z"/>
                        <path class="bg_white" fill="#000000"
                              d="M1172.289 219.274c-1.906.107-3.343.215-5.106.347 0 11.222-.05 22.025.012 32.828.081 13.987-.293 28.004.518 41.95 1.089 18.746 8.64 25.82 27.513 27.392 2.32.193 4.663.085 6.99.224 5.045.302 7.16 2.375 7.244 6.984.088 4.843-2.247 7.55-7.164 7.667-9.575.228-18.998-.924-27.77-4.991-15.552-7.21-21.05-20.848-21.493-36.648-.652-23.3-.359-46.626-.466-69.942-.008-1.778-.001-3.556-.001-5.795-5.872 0-11.167.08-16.458-.022-5.163-.1-7.63-2.484-7.68-7.142-.052-4.797 2.241-7.196 7.407-7.335 5.303-.144 10.613-.032 16.739-.032 0-4.587-.012-8.826.002-13.065.02-5.995-.043-11.992.12-17.983.123-4.455 2.67-6.598 7.094-6.562 4.685.037 7.236 2.22 7.334 6.923.173 8.324.054 16.654.058 24.981v5.669c4.224 0 8.142-.005 12.06.001 7.828.013 15.656-.012 23.484.068 4.506.045 6.612 2.597 6.727 6.956.125 4.728-2 7.353-6.719 7.443-9.99.19-19.984.074-30.445.084z"/>
                        <path fill="#47BBEC"
                              d="M659.556 46.568c9.68-12.661 21.051-22.257 36.975-24.904 3.575-.595 7.306-.792 10.916-.523 7.396.551 12.683 5.648 13.607 13.014 2.765 22.06-6.39 38.984-23.753 51.523-11.477 8.289-29.154 4.29-39.498-7.735-9.31-10.823-9.563-14.088-1.92-26.213 1.06-1.683 2.306-3.248 3.673-5.162z"/>
                        <path class="bg_white" fill="#000000"
                              d="M746.906 325.102c.277-8.589 2.31-10.216 12.011-10.07 7.13.106 9.113 2.242 9.175 9.883.088 10.768-6.422 15.158-16.628 11.188-5.056-1.966-4.523-6.391-4.558-11z"/>
                        <path class="bg_black" fill="#ffffff"
                              d="M327.043 247.849c11.954.31 23.507-.19 34.856 1.099 24.434 2.774 31.96 16.797 28.728 40.366-1.947 14.206-10.221 22.198-27.604 24.153-14.081 1.583-28.488.284-42.75.197-.939-.006-1.874-.584-2.95-.941V247.85l9.72-.001z"/>
                        <path class="bg_black" fill="#ffffff"
                              d="M317.143 173.007c.15-5.292-1.493-11.72.961-14.414 2.391-2.624 8.973-1.465 13.72-1.901 10.201-.937 20.273-.347 30.041 2.977 11.656 3.966 17.088 11.148 17.407 23.345.215 8.223-.542 16.336-5.366 23.432-3.899 5.734-9.226 10.297-16.021 10.912-13.332 1.206-26.768 1.263-40.742 1.819v-46.17z"/>
                        <path class="bg_black" fill="#ffffff"
                              d="M1089.736 244.55c.058 5.877.058 11.305.058 16.982h-93.58c-.463-9.694-.368-19.104 3.3-28.053 2.798-6.826 8.357-10.77 15.357-12.267 5.168-1.106 10.521-1.773 15.802-1.843 10.805-.144 21.654-.263 32.416.53 17.081 1.258 23.366 7.35 26.647 24.651z"/>
                    </svg>
                </a>
            </div>
            <div class="search-box">
                <div class="search-box-inner">
                    <input class="search-txt" type="text" placeholder="검색어를 입력하세요.">
                    <button class="search-btn" type="submit">
                        <i class="fa fa-search fa-magnifying-glass"></i>
                    </button>
                </div>
            </div>
        </div>
        <!--mbti리스트 출력-->
        <div class="back color-10">
            <div class="row columns">
                <ul class="menu align-center expanded text-center link">
                    <li th:each="mbti, iterStat : ${mbtiList}" th:if="${iterStat.index < 8}">
                        <a th:href="@{|/mbti/${mbti.id}|}" th:text="${mbti.name}"></a>
                    </li>
                </ul>
            </div>
            <div class="row columns">
                <ul class="menu align-center expanded text-center link">
                    <li th:each="mbti, iterStat : ${mbtiList}" th:if="${iterStat.index >= 8 and iterStat.index < 16}">
                        <a th:href="@{|/mbti/${mbti.id}|}" th:text="${mbti.name}"></a>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <main>
        <!--전체게시글 출력-->
        <div class="left-container">
            <div class="hot_topic">
                <span style="font-size: large;">인기 게시글</span>
                <ul class="nav nav-tabs" style="width: 680px; margin-top: 15px;" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="home-tab" data-bs-toggle="tab"
                                data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane"
                                aria-selected="true" style="border-radius: 10px;">최신
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="profile-tab" data-bs-toggle="tab"
                                data-bs-target="#profile-tab-pane" type="button" role="tab"
                                aria-controls="profile-tab-pane" aria-selected="false" style="border-radius: 10px;">추천
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="contact-tab" data-bs-toggle="tab"
                                data-bs-target="#contact-tab-pane" type="button" role="tab"
                                aria-controls="contact-tab-pane" aria-selected="false" style="border-radius: 10px;">조회
                        </button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab"
                         tabindex="0">
                        <div class="article-table">
                            <table class="article-list">
                                <thead class="article-list-head">
                                <tr>
                                    <th class="article-list-subject-head">제목</th>
                                    <th class="article-list-th">작성자</th>
                                    <th class="article-list-th">조회수</th>
                                    <th class="article-list-th">추천수</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="article-list-body" th:each="article, loop : ${articlePageByDate}">
                                    <td class="article-list-subject-body">
                                        <a class="article-list-subject" th:href="@{|/article/${article.id}|}"
                                           th:text="${article.subject}">
                                        </a>
                                        <span class="article-comment" th:if="${#lists.size(article.commentList) != 0}"
                                              th:text="|[${#lists.size(article.commentList)}]|"></span>
                                    </td>
                                    <td>
                                        <a class="article-list-author" href="#"
                                           th:text="|${article.author.nickname}[${article.author.mbti.name}]|"></a>
                                    </td>
                                    <td style="width: 6%" th:text="${article.viewCount}"></td>
                                    <td style="width: 6%" th:text="${#lists.size(article.likers)}|"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab"
                         tabindex="0">
                        <div class="article-table">
                            <table class="article-list">
                                <thead class="article-list-head">
                                <tr>
                                    <th class="article-list-subject-head">제목</th>
                                    <th class="article-list-th">작성자</th>
                                    <th class="article-list-th">조회수</th>
                                    <th class="article-list-th">추천수</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="article-list-body" th:each="article, loop : ${articlePageByLike}">
                                    <td class="article-list-subject-body">
                                        <a class="article-list-subject" th:href="@{|/article/${article.id}|}"
                                           th:text="${article.subject}">
                                        </a>
                                        <span class="article-comment" th:if="${#lists.size(article.commentList) != 0}"
                                              th:text="|[${#lists.size(article.commentList)}]|"></span>
                                    </td>
                                    <td>
                                        <a class="article-list-author" href="#"
                                           th:text="|${article.author.nickname}[${article.author.mbti.name}]|"></a>
                                    </td>
                                    <td style="width: 6%" th:text="${article.viewCount}"></td>
                                    <td style="width: 6%" th:text="${#lists.size(article.likers)}|"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab"
                         tabindex="0">
                        <div class="article-table">
                            <table class="article-list">
                                <thead class="article-list-head">
                                <tr>
                                    <th class="article-list-subject-head">제목</th>
                                    <th class="article-list-th">작성자</th>
                                    <th class="article-list-th">조회수</th>
                                    <th class="article-list-th">추천수</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr class="article-list-body" th:each="article, loop : ${articlePageByView}">
                                    <td class="article-list-subject-body">
                                        <a class="article-list-subject" th:href="@{|/article/${article.id}|}"
                                           th:text="${article.subject}">
                                        </a>
                                        <span class="article-comment" th:if="${#lists.size(article.commentList) != 0}"
                                              th:text="|[${#lists.size(article.commentList)}]|"></span>
                                    </td>
                                    <td>
                                        <a class="article-list-author" href="#"
                                           th:text="|${article.author.nickname}[${article.author.mbti.name}]|"></a>
                                    </td>
                                    <td style="width: 6%" th:text="${article.viewCount}"></td>
                                    <td style="width: 6%" th:text="${#lists.size(article.likers)}|"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
            <div class="mm">
                <div th:if="${member != null}" class="movie">
                    <span style="font-size: large;">영화 추천</span>
                    <div th:if="${movie != null}">
                        <span th:text="${movie.names}"></span>
                    </div>
                </div>
                <div th:if="${member != null}" class="music">
                    <span style="font-size: large;">음악 추천</span>
                    <div th:if="${music != null}">
                        <span th:text="${music.names}"></span>
                    </div>
                </div>
            </div>
            <div class="form-create-btn">
                <a href="/genre" class="back-btn" th:if="${member != null and member.membername == 'admin'}"
                   style="justify-content: center; margin-top: 30px;">수정</a>
            </div>
        </div>
        <div class="right-container">
            <div class="mbti_link">
                <p>MBTI검사 바로가기</p>
                <a href="https://www.16personalities.com/ko/%EB%AC%B4%EB%A3%8C-%EC%84%B1%EA%B2%A9-%EC%9C%A0%ED%98%95-%EA%B2%80%EC%82%AC"
                   target="_blank">
                    <svg xml:space="preserve" viewBox="0 0 326 72">
                        <path class="bg_black" fill="#ffffff" d="M235 73c-77 0-153.5-.03-230 .096C1.576 73.102.867 72.43.898 69c.2-21.665.15-43.333.036-64.999C.921 1.5 1.501.936 4 .937c106.667.073 213.333.073 320 0 2.499-.001 3.079.562 3.066 3.063-.114 22-.114 44 0 66 .013 2.5-.565 3.073-3.066 3.065-29.5-.101-59-.065-89-.065z"/>
                        <path fill="#489BB6" d="M37.735 21.903c1.796-3.725 4.513-5.297 8.215-4.756 3.07.448 5.125 2.42 5.888 5.352.798 3.066.213 5.958-2.454 8.055-2.607 2.051-5.563 2.372-8.328.675-3.28-2.012-4.591-5.096-3.32-9.326z"/>
                        <path fill="#8C679E" d="M36.825 42.88c-4.818 3.277-8.365 3.04-11.134-.584-2.454-3.212-2.257-6.489.316-9.524 2.505-2.955 6.788-3.358 9.87-1.093 3.508 2.578 3.935 6.37.948 11.2z"/>
                        <path fill="#3BA779" d="M37.32 51.77c.412-4.13 2.002-7.026 6.054-7.782 3.034-.566 5.642.4 7.388 2.95 1.723 2.514 1.806 5.227.295 7.971-1.438 2.611-3.863 3.895-6.546 3.728-3.842-.24-6.313-2.612-7.191-6.866z"/>
                        <path fill="#E5B040" d="M54.444 31.359c5.1-1.526 8.688-.149 10.185 3.603 1.421 3.563.005 7.76-3.33 9.335-3.545 1.673-6.82 1.193-9.282-2.029-2.645-3.462-1.846-7.177 2.427-10.909z"/>
                        <path class="bg_white" fill="#000000" d="M226.521 46.658c-2.29 1.361-2.29 1.361-9.366 1.073 1.828-2.562 2.215-5.302 1.896-8.196-.225-2.046-.378-4.266-3.026-4.33-2.57-.064-3.161 1.914-3.264 4.1-.136 2.911-.441 5.842 2.245 8.449h-8.89c3.159-4.176 3.667-8.214.173-12.374 3.346-3.177 8.005-2.206 11.966-2.656 4.13-.47 4.84 3.577 4.926 7.144.065 2.666-.998 5.885 3.34 6.79z"/>
                        <path class="bg_white" fill="#000000" d="M109.27 29.368c-1.922 2.065-3.534 3.569.872 3.76 4.302.186 6.529 3.094 6.579 7.282.052 4.462-3.493 7.726-7.976 7.762-4.385.035-7.295-2.427-7.838-6.632-.904-6.994 4.567-14.264 11.614-15.319-.287 1.748-2.06 1.901-3.25 3.147z"/>
                        <path class="bg_white" fill="#000000" d="M132.226 37.523c-3.805 2.398-3.193 6.747 1.595 10.052H122.55c3.678-5.217 3.57-17.863-1.227-22.458 3.843 0 6.83 0 10.27.04 1.207.48 2.407.233 2.532 1.79-3.111 2.43-3.586 5.122-1.838 8.615.255.771.256 1.229-.06 1.96z"/>
                        <path class="bg_white" fill="#000000" d="M187.848 43.91c-1.605-4.317-.554-7.639 2.868-9.891 3.093-2.036 6.603-2.114 9.85-.25 3.072 1.762 3.98 4.724 3.497 8.102-.516 3.61-3.102 5.37-6.286 6.18-4.047 1.028-7.518.038-9.93-4.141z"/>
                        <path class="bg_white" fill="#000000" d="M303.658 41.54c-2.508-2.276-3.438-4.75-1.033-7.448 2.656-2.978 6.335-1.49 9.39-1.07 1.477.204-.012 2.792.419 5.554-1.367-1.659-1.844-2.376-2.455-2.951-1.17-1.1-2.532-1.526-4.088-.802-.67.311-1.037.82-.844 1.566.431 1.664 1.996 1.513 3.195 1.927 2.376.82 4.871 1.466 4.962 4.721.062 2.255-.896 4.028-2.91 4.765-2.878 1.053-6.02.59-8.757-.293-1.014-.328-1.04-3.183.62-4.876 1.812-.342 2.29 1.511 3.682 1.542-.222-1.357-1.997-1.16-2.181-2.635z"/>
                        <path class="bg_white" fill="#000000" d="M155.292 46.331c-3.644 2.627-7.157 2.764-10.376.237-2.813-2.21-3.086-5.375-1.959-8.621 1.146-3.3 3.515-5.123 7.029-5.418 2.137-.179 3.933.565 5.354 2.106 1.036 1.123 1.88 2.532 1.476 4.063-.54 2.044-2.443 1.12-3.8 1.328-.487.074-1.01-.064-1.492.026-1.526.287-3.46-.888-4.525.825-.648 1.041.134 2.284.925 3.157 1.495 1.651 3.306 2.107 5.372 1.064.734-.371 1.536-1.163 2.186-1.052 2.617.443.447 1.318-.19 2.285z"/>
                        <path class="bg_white" fill="#000000" d="M180.859 43.592a31.769 31.769 0 0 0-4.757-2.285c-2.096-.81-3.304-2.222-3.091-4.532.232-2.53 1.897-3.934 4.225-4.175 2.113-.218 4.765-.597 6.28.427 1.26.85.982 3.409-.753 5.167-.96.972.99 1.74 1.473 2.693 1.628 3.216.118 6.454-3.419 7.213-6.1 1.308-8.367-.25-7.441-5.116 4.375 4.361 5.862 4.549 7.483.608z"/>
                        <path class="bg_white" fill="#000000" d="M292.129 32.523c2.256.046 3.978.615 5.243 2.076 1.107 1.278 2.127 2.785 1.351 4.507-.684 1.517-2.335.761-3.575.913-.655.08-1.339-.062-1.99.031-1.387.199-3.14-.728-4.084.742-.67 1.043.079 2.266.866 3.163 1.306 1.488 2.904 2.176 4.868 1.368 1.173-.482 2.318-1.031 3.827-1.708-2.144 4.227-4.588 5.407-8.744 4.431-3.587-.842-5.375-3.388-5.343-6.869.043-4.672 2.214-7.91 7.58-8.654z"/>
                        <path class="bg_white" fill="#000000" d="M91.802 44.224c.13-3.565.09-6.713.2-9.855.093-2.629.199-5.119-3.898-4.916l8.127-4.577c1.686 7.611-3.49 16.051 3.644 22.79H88.56c-.22-2.3 2.89-1.23 3.243-3.442z"/>
                        <path class="bg_white" fill="#000000" d="M266.288 47.466c-1.871-1.557-1.945-3.395-1.98-5.235-.028-1.494.575-3.38-.115-4.419-3.23-4.863.968-6.4 3.865-9.01.66 2.56 1.386 5.134 5.328 4.508-6.357 1.687-4.46 6.283-4.527 10.13-.049 2.836 2.39 2.008 4.215 2.679-1.849 2.742-4.049 2.638-6.786 1.347z"/>
                        <path class="bg_white" fill="#000000" d="M167.5 36.297c-3.322 4.152-2.985 7.633 1.15 11.218h-9.478c2.71-4.086 3.112-8.241-.042-12.343 2.746-3.185 6.77-1.123 10.036-2.385 1.244-.481 2.763.766 2.382 2.36-.455 1.906-1.745 2.854-4.048 1.15z"/>
                        <path class="bg_white" fill="#000000" d="M249.323 47.334c-1.713.38-3.1.44-4.9.428-.76-.365-.89-.74-.609-1.416 1.663-6.757 1.996-13.216-.385-19.94 1.325-.327 3.31-.906 5.861-3.185 0 8.163 0 15.17.215 22.53.191.657.168.96-.182 1.583z"/>
                        <path class="bg_white" fill="#000000" d="M278.928 47.928h-4.666c2.226-4.117 3.783-8.068.303-11.962-.68-.761-.287-1.302.246-1.506 1.666-.633 3.374-1.22 5.118-1.551.725-.138.865.812.845 1.496-.06 1.978-.188 3.957-.17 5.934.021 2.577-.474 5.335 3.067 7.356-2.101.113-3.21.173-4.743.233z"/>
                        <path class="bg_white" fill="#000000" d="M134.032 27.18c-.572-.75-1.119-1.161-1.827-1.777 1.305-.232 2.84-.552 4.224-.228 3.474.813 6.115 2.64 5.743 6.746-.345 3.823-2.663 5.834-6.399 6.228-.966.102-1.962-.07-3.356-.235-.408-.442-.405-.765-.407-1.331 3.098-2.622 4.727-5.343 2.022-9.404z"/>
                        <path class="bg_white" fill="#000000" d="M257.484 33.055c2.866 1.99 1.1 4.733 1.44 7.156.357 2.537-.598 5.347 3.26 7.495h-9.069c2.533-4.289 2.957-8.555-.18-12.868 1.415-.57 2.772-1.116 4.549-1.783z"/>
                        <path class="bg_white" fill="#000000" d="M232.797 39.418c4.026-2.837 2.03-3.943-1.34-4.821-.729-.28-.89-.62-.644-1.251 7.22-.912 8.198-.067 8.196 6.693 0 3.908 0 3.908 2.477 6.342-2.008 2.098-4.12 2.442-6.7.382-.533-.065-.77-.067-1.146-.392-.772-1.875 1.253-3.595-.692-5.276-.42-.598-.452-1.014-.151-1.677z"/>
                        <path class="bg_white" fill="#000000" d="M232.66 39.175c.358.345.361.684.358 1.277.085 1.731-1.706 3.28.367 4.924.366.408.525.582.895 1.04-2.072 1.933-4.394 2.923-7.115.38-.202-.345-.147-.254-.131-.234-1.536-4.794 2.03-5.977 5.626-7.387z"/>
                        <path fill="#51A0BA" d="M62.676 12.283c1.375 2.114 1.182 3.747-.806 4.832-1.314.717-2.662.327-3.57-.774-.753-.913-1.018-2.164-.375-3.261 1.09-1.863 2.594-2.466 4.75-.797z"/>
                        <path fill="#50A0BA" d="M25.972 14.815c.061-2.297 1.052-3.564 2.986-3.476 1.608.073 2.66 1.245 2.858 2.887.15 1.24-.438 2.298-1.576 2.796-1.996.873-3.492.308-4.268-2.207z"/>
                        <path fill="#9370A4" d="M19.044 45.924c-2.24 1.407-3.782.901-4.753-1.055-.553-1.116-.237-2.234.7-3.132.944-.904 2.125-1.116 3.183-.57 1.945 1.005 2.364 2.591.87 4.757z"/>
                        <path fill="#42AB7E" d="M53.117 64.509c.753 2.547-.296 3.82-2.367 4.187-1.166.207-2.238-.402-2.775-1.56-.516-1.114-.525-2.273.381-3.185 1.58-1.589 3.152-1.439 4.761.558z"/>
                        <path fill="#46AD81" d="M38.2 68.655c-2.731-1.581-3.1-3.449-.912-5.21 1.507-1.214 3.336-.719 4.14 1.026 1.242 2.697-.32 3.919-3.228 4.184z"/>
                        <path fill="#E8B955" d="M68.024 56.96c-2.992-.91-3.912-2.564-2.108-4.872 1.235-1.58 3.063-1.56 4.261.018 1.74 2.291.89 3.986-2.153 4.854z"/>
                        <path fill="#42AB7E" d="M57.799 61.897c.116-2.32 1.201-3.354 3.132-3.228 1.464.096 2.362 1.102 2.565 2.518.17 1.19-.256 2.332-1.432 2.81-1.892.77-3.514.548-4.265-2.1z"/>
                        <path fill="#57A3BC" d="M40.975 7.993c1.537 2.236.942 3.757-.989 4.733-1.096.554-2.244.273-3.17-.641-.943-.931-1.142-2.14-.6-3.18.988-1.895 2.542-2.49 4.76-.912z"/>
                        <path fill="#9877A8" d="M17.013 34.96c-2.996-.9-3.91-2.562-2.124-4.865 1.22-1.572 3.045-1.578 4.26.008 1.76 2.299.89 3.977-2.136 4.858z"/>
                        <path fill="#E8B955" d="M68.792 24.876c-3.157-.108-4.448-1.542-3.316-4.178.745-1.737 2.523-2.368 4.132-1.098 2.248 1.775 1.877 3.636-.816 5.276z"/>
                        <path fill="#E6B44A" d="M72.055 34.932c-2.813-1.208-3.52-2.906-1.524-5.012 1.434-1.513 3.222-1.14 4.188.455 1.478 2.44.348 4.006-2.664 4.557z"/>
                        <path fill="#3DA97B" d="M29.59 58.755c1.926 1.02 2.817 2.236 1.835 4.09-.694 1.312-1.873 1.745-3.292 1.418-1.217-.28-2.067-1.006-2.13-2.325-.107-2.243 1.113-3.241 3.586-3.183z"/>
                        <path fill="#E6B345" d="M74.327 41.747c1.392 2.737.945 4.624-1.98 4.91-1.642.161-2.992-1.127-2.861-2.778.226-2.85 2.01-3.537 4.841-2.132z"/>
                        <path fill="#916EA2" d="M21.216 24.933c-2.935-1.088-3.73-2.742-1.74-4.967 1.193-1.332 2.85-1.353 3.879.1 1.593 2.248 1.032 4.052-2.14 4.867zM19.798 56.5c-2.182-2.465-1.609-4.293.952-5.267 1.655-.63 3.045.422 3.266 2.125.371 2.873-1.115 3.973-4.218 3.141z"/>
                        <path fill="#4B9DB7" d="M53.345 10.72c-1.402 2.532-3.203 3.028-4.909 1.135-1.216-1.35-1.079-3.31.723-4.236 2.729-1.401 3.925.184 4.186 3.101z"/>
                        <path class="bg_white" fill="#000000" d="M258.614 28.425c-1.367 1.433-2.797 2.38-3.959.73-1.008-1.434.43-2.521 1.579-2.998 1.618-.672 3.043-.457 2.38 2.268z"/>
                        <path class="bg_white" fill="#000000" d="M276.293 27.396c1.315-1.382 2.716-2.382 3.837-.777.853 1.222-.153 2.535-1.467 3.034-1.68.637-2.918.301-2.37-2.257z"/>
                        <path class="bg_white" fill="#000000" d="M230.654 33.142c.377.317.4.635.433 1.189-1.125.817-.846 2.986-2.692 2.632-.308-.06-.698-.79-.69-1.204.033-1.615 1.376-2.065 2.949-2.617z"/>
                        <path class="bg_white" fill="#000000" d="M249.342 47.75c-.254-.368-.163-.639.153-1.278.64-.02 1.345.28 1.41.684.144.898-.71.606-1.563.593zM243.716 46.194c.313.271.306.621.297 1.233-1.657.421-1.316-.288-.297-1.233z"/>
                        <path class="bg_black" fill="#ffffff" d="M111.93 44.614c-2.511 2.752-4.322 1.601-5.61-.717-1.48-2.664-2.375-5.59.047-8.181 1.316-1.407 2.769-.37 3.839.705 2.183 2.191 2.334 4.93 1.724 8.193z"/>
                        <path class="bg_black" fill="#ffffff" d="M133.58 26.872c2.879 1.335 3.983 3.368 3.45 6.175-.437 2.31-1.78 3.48-4.615 3.25-4.367-1.19-2.071-4.397-2.432-6.7-.342-2.186 1.202-2.856 3.596-2.725z"/>
                        <path class="bg_black" fill="#ffffff" d="M197.183 34.947c1.82 1.387 2.709 2.945 2.807 4.873.159 3.096.189 6.7-3.847 6.788-3.687.081-4.79-3.41-4.77-6.47.021-3.21.716-6.581 5.81-5.19z"/>
                        <path class="bg_black" fill="#ffffff" d="M303.503 41.563c.82-.164 1.286-.038 1.744.114 1.8.595 4.037.694 4.426 3.126.14.874-.776 1.322-1.64 1.443-2.547.355-4.499-.318-5.4-3.408.055-.55.284-.762.87-1.275z"/>
                        <path class="bg_black" fill="#ffffff" d="M152.232 35.947c-.278 3.926-2.922 1.833-4.558 1.977-.965.085-.931-1.253-.467-1.928 1.407-2.045 3.065-2.282 5.025-.049z"/>
                        <path class="bg_black" fill="#ffffff" d="M182.118 38.29c-.66.35-1.035.416-1.308.279-1.473-.738-3.91-.108-4.102-2.668-.076-1.022 1.025-1.356 1.747-1.387 2.29-.099 3.74.999 3.663 3.776z"/>
                        <path class="bg_black" fill="#ffffff" d="M289.829 35.25c2.64-1.716 4.259-.612 4.756 1.599.413 1.836-1.525 1.267-2.474 1.27-1.596.005-4.218.685-2.282-2.869z"/>
                        <path class="bg_black" fill="#ffffff" d="M233.838 45.365c-1.38.422-2.6.657-3.114-.746-.625-1.707.475-2.69 2.005-3.731 4.457.362 2.094 2.494 1.109 4.477z"/>
                    </svg>
                </a>
            </div>
            <div class="right_sticky">
                <div class="login-container" sec:authorize="isAnonymous()">
                    <div class="login">
                        <a class="login_button" onclick='loginBtn()' aria-current="page" href="/member/login">로그인</a>
                    </div>
                    <div class="links">
                        <div class="lock">
                            <a href="#">
                                <i class="fa-solid fa-lock"></i>
                                아이디/비밀번호 찾기
                            </a>
                        </div>
                        <div class="signup">
                            <a th:href="@{/member/signup}">
                                <i class="fa-solid fa-user"></i>
                                회원 가입
                            </a>
                        </div>
                    </div>
                </div>
                <div class="logout-container" sec:authorize="isAuthenticated()">
                    <div>개인정보 자리</div>
                    <div class="links">
                        <div>
                            <a th:href="@{/member/modify}">
                                <i class="fa-solid fa-user"></i>
                                개인정보 수정
                            </a>
                        </div>
                        <div>
                            <a th:href="@{/member/logout}">
                                <i class="fa-solid fa-right-from-bracket"></i>
                                로그아웃
                            </a>
                        </div>
                    </div>
                </div>
                <div class="chat_container" sec:authorize="isAuthenticated()">
                    <div class="chat_title">
                        <label><b>채팅방</b></label>
                    </div>
                    <div class="chat_main">
                        <div id="chatroom" class="col"></div>
                        <div class="chat_textarea">
                            <div class="chat-box">
                                <div class="chat-box-inner">
                                    <input type="text" id="msg" class="chat-txt" aria-label="Recipient's username"
                                           aria-describedby="button-addon2" placeholder="채팅 내용을 입력하세요.">
                                    <div class="input-group-append">
                                        <button class="chat-btn" type="button" id="button-send"><i
                                                class="fa-solid fa-paper-plane"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat" sec:authorize="isAnonymous()">채팅방(예정)
                    <div class="logout_chat">
                        <div class="close_chat">
                            <i class="fa-solid fa-circle-exclamation"></i>
                        </div>
                    </div>
                    <div class="chat-box">
                        <div class="chat-box-inner">
                            <input class="chat-txt" type="text" placeholder="로그인 후 이용 가능합니다.">
                            <button class="chat-btn" type="submit">
                                <i class="fa-solid fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <script th:inline="javascript">
            $(document).ready(function () {
                const nickname = [[${member.nickname}]];

                $("#disconnerct").on("click", (e) => {
                    disconnect();
                });

                $("#button-send").on("click", (e) => {
                    send();
                });

                const websocket = new WebSocket("ws://localhost:8010/ws/chat");

                websocket.onmessage = onMessage;
                websocket.onopen = onOpen;
                websocket.onclose = onClose;

                function send() {
                    let msg = document.getElementById("msg");

                    console.log(nickname + ":" + msg.value);
                    websocket.send(nickname + ":" + msg.value);
                    msg.value = '';
                }

                function displayDate() {
                    var currentDate = new Date();
                    var formattedDate = currentDate.toISOString().slice(0, 10);
                    var dateMessage = "ㅡ " + formattedDate + " ㅡ";

                    var dateDiv = $("<div class='chat_date'>").text(dateMessage);
                    $("#chatroom").append(dateDiv);
                }

                function displayTime() {
                    var currentTime = new Date();
                    var hours = currentTime.getHours();
                    var minutes = currentTime.getMinutes();
                    var formattedTime = (hours < 10 ? "0" : "") + hours + ":" + (minutes < 10 ? "0" : "") + minutes;

                    return formattedTime;
                }

                // 채팅창에서 나갔을 때
                function onClose(evt) {
                    var str = nickname + ": 님이 방을 나가셨습니다.";
                    websocket.send(str);
                }

                // 채팅창에 들어왔을 때
                function onOpen(evt) {
                    displayDate(); // 입장 전에 오늘 날짜 표시
                    var str = nickname + ": 님이 입장하셨습니다.";
                    websocket.send(str);
                }

                function onMessage(msg) {
                    var data = msg.data;
                    var sessionId = null;
                    var message = null;
                    var arr = data.split(":");

                    var cur_session = nickname;

                    sessionId = arr[0];
                    message = arr[1];

                    var isCurrentUser = sessionId == cur_session;

                    var str = "<div class='chat_div'>";
                    if (isCurrentUser) {
                        str += "<div class='chat_my_bg'>";
                        str += "<b>" + sessionId + " : " + message + " <span class='chat_time'>" + displayTime() + "</span></b>";
                    } else {
                        str += "<div class='chat_you_bg'>";
                        if (message.indexOf('입장하셨습니다.') !== -1) {
                            str += "<b>" + sessionId + " : " + message + "</b>";
                        } else {
                            str += "<b>" + sessionId + " : " + message;
                            str += " <span class='chat_time'>" + displayTime() + "</span></b>";
                        }
                    }

                    str += "</div></div>";
                    $("#chatroom").append(str);
                    $("#chatroom").scrollTop($("#chatroom")[0].scrollHeight);
                }

                // 엔터 키로 메시지 전송
                $("#msg").keyup(function (event) {
                    if (event.which === 13) {
                        send();
                    }
                });
            });
        </script>

    </footer>
</div>
<script src="/js/home.js"></script>
</body>
</html>